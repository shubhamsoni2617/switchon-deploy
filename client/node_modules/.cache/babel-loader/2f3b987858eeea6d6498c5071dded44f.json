{"ast":null,"code":"import _slicedToArray from\"/home/shubh/switchon/switchon-server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import\"../style.css\";import{withRouter,Link}from\"react-router-dom\";import makeToast from\"../../../Toaster\";import LoaderModal from\"../../../loader-modal/LoaderModal\";import{Axios}from\"../../../utils\";var LoginPage=function LoginPage(_ref){var history=_ref.history,dispatch=_ref.dispatch,setupSocket=_ref.setupSocket;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var loginUser=function loginUser(){setLoading(true);Axios.post(\"/login\",{email:email,password:password}).then(function(response){makeToast(\"success\",response.data.message);dispatch({type:\"SET_USER_DATA\",payload:response.data});setLoading(false);sessionStorage.setItem(\"CC_Token\",response.data.token);history.push(\"/form\");setupSocket();}).catch(function(err){if(err&&err.response&&err.response.data&&err.response.data.message){setLoading(false);makeToast(\"error\",err.response.data.message);}});};return/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(LoaderModal,{isLoading:loading}),/*#__PURE__*/React.createElement(\"div\",{className:\"cardHeader\"},\"Login\"),/*#__PURE__*/React.createElement(\"div\",{className:\"cardBody\"},/*#__PURE__*/React.createElement(\"div\",{className:\"inputGroup\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",name:\"email\",id:\"email\",placeholder:\"abc@example.com\",value:email,onChange:function onChange(_ref2){var target=_ref2.target;return setEmail(target.value);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"inputGroup\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",id:\"password\",placeholder:\"Your Password\",value:password,onChange:function onChange(_ref3){var target=_ref3.target;return setPassword(target.value);}})),/*#__PURE__*/React.createElement(\"button\",{onClick:loginUser},\"Login\")),/*#__PURE__*/React.createElement(Link,{to:\"/signup\"},\"Signup Instead\"));};export default withRouter(LoginPage);","map":{"version":3,"sources":["/home/shubh/switchon/switchon-server/client/src/Pages/authentication/login-page/index.js"],"names":["React","useState","withRouter","Link","makeToast","LoaderModal","Axios","LoginPage","history","dispatch","setupSocket","email","setEmail","password","setPassword","loading","setLoading","loginUser","post","then","response","data","message","type","payload","sessionStorage","setItem","token","push","catch","err","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport \"../style.css\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport makeToast from \"../../../Toaster\";\nimport LoaderModal from \"../../../loader-modal/LoaderModal\";\nimport { Axios } from \"../../../utils\";\n\nconst LoginPage = ({ history, dispatch, setupSocket }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const loginUser = () => {\n    setLoading(true);\n    Axios.post(\"/login\", {\n      email,\n      password,\n    })\n      .then((response) => {\n        makeToast(\"success\", response.data.message);\n        dispatch({\n          type: \"SET_USER_DATA\",\n          payload: response.data,\n        });\n        setLoading(false);\n\n        sessionStorage.setItem(\"CC_Token\", response.data.token);\n        history.push(\"/form\");\n        setupSocket();\n      })\n      .catch((err) => {\n        if (\n          err &&\n          err.response &&\n          err.response.data &&\n          err.response.data.message\n        ) {\n          setLoading(false);\n          makeToast(\"error\", err.response.data.message);\n        }\n      });\n  };\n\n  return (\n    <div className=\"card\">\n      <LoaderModal isLoading={loading} />\n      <div className=\"cardHeader\">Login</div>\n      <div className=\"cardBody\">\n        <div className=\"inputGroup\">\n          <label htmlFor=\"email\">Email</label>\n          <input\n            type=\"email\"\n            name=\"email\"\n            id=\"email\"\n            placeholder=\"abc@example.com\"\n            value={email}\n            onChange={({ target }) => setEmail(target.value)}\n          />\n        </div>\n        <div className=\"inputGroup\">\n          <label htmlFor=\"password\">Password</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            id=\"password\"\n            placeholder=\"Your Password\"\n            value={password}\n            onChange={({ target }) => setPassword(target.value)}\n          />\n        </div>\n        <button onClick={loginUser}>Login</button>\n      </div>\n      <Link to=\"/signup\">Signup Instead</Link>\n    </div>\n  );\n};\n\nexport default withRouter(LoginPage);\n"]},"metadata":{},"sourceType":"module"}