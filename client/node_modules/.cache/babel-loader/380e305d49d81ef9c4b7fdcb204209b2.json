{"ast":null,"code":"import _defineProperty from\"/home/shubh/switchon/switchon-server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"/home/shubh/switchon/switchon-server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/home/shubh/switchon/switchon-server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";export var initialState={user:{},departments:[],usersOfOtherDepartment:[],pending:[],approved:[],rejected:[],approvalRequest:[],notifications:[]};export var reducer=function reducer(state,_ref){var _objectSpread2;var type=_ref.type,payload=_ref.payload;switch(type){case\"SET_USER_DATA\":return{user:payload.user,departments:payload.departments,usersOfOtherDepartment:payload.usersOfOtherDepartment,pending:payload.userForms.pending,approved:payload.userForms.approved,rejected:payload.userForms.rejected,approvalRequest:payload.approvalRequest,notifications:payload.notifications};case\"UPDATE_PENDING_REQUESTS\":return _objectSpread(_objectSpread({},state),{},{pending:[].concat(_toConsumableArray(state.pending),[payload])});case\"UPDATE_APPROVAL_REQUESTS\":return _objectSpread(_objectSpread({},state),{},{approvalRequest:[].concat(_toConsumableArray(state.approvalRequest),[payload])});case\"UPDATE_REQUEST\":return _objectSpread(_objectSpread({},state),{},{approvalRequest:state.approvalRequest.filter(function(request){return request._id!==payload;})});case\"UPDATE_USER_FORMS\":var updatedFormData=state.pending.find(function(form){return form._id===payload._id;});if(!updatedFormData)return state;updatedFormData.state=payload.state;return _objectSpread(_objectSpread({},state),{},(_objectSpread2={},_defineProperty(_objectSpread2,payload.state,[].concat(_toConsumableArray(state[payload.state]),[updatedFormData])),_defineProperty(_objectSpread2,\"pending\",state.pending.filter(function(form){return form._id!==payload._id;})),_objectSpread2));case\"UPDATE_NOTIFICATIONS\":return _objectSpread(_objectSpread({},state),{},{notifications:[].concat(_toConsumableArray(state.notifications),[payload])});case\"UPDATE_OTHER_DEPARTMENT_USER\":return _objectSpread(_objectSpread({},state),{},{usersOfOtherDepartment:[].concat(_toConsumableArray(state.usersOfOtherDepartment),[payload])});default:return state;}};","map":{"version":3,"sources":["/home/shubh/switchon/switchon-server/client/src/reducer.js"],"names":["initialState","user","departments","usersOfOtherDepartment","pending","approved","rejected","approvalRequest","notifications","reducer","state","type","payload","userForms","filter","request","_id","updatedFormData","find","form"],"mappings":"+eAAA,MAAO,IAAMA,CAAAA,YAAY,CAAG,CAC1BC,IAAI,CAAE,EADoB,CAE1BC,WAAW,CAAE,EAFa,CAG1BC,sBAAsB,CAAE,EAHE,CAI1BC,OAAO,CAAE,EAJiB,CAK1BC,QAAQ,CAAE,EALgB,CAM1BC,QAAQ,CAAE,EANgB,CAO1BC,eAAe,CAAE,EAPS,CAQ1BC,aAAa,CAAE,EARW,CAArB,CAWP,MAAO,IAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,MAA8B,uBAApBC,CAAAA,IAAoB,MAApBA,IAAoB,CAAdC,OAAc,MAAdA,OAAc,CACnD,OAAQD,IAAR,EACE,IAAK,eAAL,CACE,MAAO,CACLV,IAAI,CAAEW,OAAO,CAACX,IADT,CAELC,WAAW,CAAEU,OAAO,CAACV,WAFhB,CAGLC,sBAAsB,CAAES,OAAO,CAACT,sBAH3B,CAILC,OAAO,CAAEQ,OAAO,CAACC,SAAR,CAAkBT,OAJtB,CAKLC,QAAQ,CAAEO,OAAO,CAACC,SAAR,CAAkBR,QALvB,CAMLC,QAAQ,CAAEM,OAAO,CAACC,SAAR,CAAkBP,QANvB,CAOLC,eAAe,CAAEK,OAAO,CAACL,eAPpB,CAQLC,aAAa,CAAEI,OAAO,CAACJ,aARlB,CAAP,CAUF,IAAK,yBAAL,CACE,sCACKE,KADL,MAEEN,OAAO,8BAAMM,KAAK,CAACN,OAAZ,GAAqBQ,OAArB,EAFT,GAIF,IAAK,0BAAL,CACE,sCACKF,KADL,MAEEH,eAAe,8BAAMG,KAAK,CAACH,eAAZ,GAA6BK,OAA7B,EAFjB,GAIF,IAAK,gBAAL,CACE,sCACKF,KADL,MAEEH,eAAe,CAAEG,KAAK,CAACH,eAAN,CAAsBO,MAAtB,CACf,SAACC,OAAD,QAAaA,CAAAA,OAAO,CAACC,GAAR,GAAgBJ,OAA7B,EADe,CAFnB,GAMF,IAAK,mBAAL,CACE,GAAMK,CAAAA,eAAe,CAAGP,KAAK,CAACN,OAAN,CAAcc,IAAd,CACtB,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACH,GAAL,GAAaJ,OAAO,CAACI,GAA/B,EADsB,CAAxB,CAGA,GAAI,CAACC,eAAL,CAAsB,MAAOP,CAAAA,KAAP,CACtBO,eAAe,CAACP,KAAhB,CAAwBE,OAAO,CAACF,KAAhC,CACA,sCACKA,KADL,uDAEGE,OAAO,CAACF,KAFX,8BAEuBA,KAAK,CAACE,OAAO,CAACF,KAAT,CAF5B,GAE6CO,eAF7C,6CAGWP,KAAK,CAACN,OAAN,CAAcU,MAAd,CAAqB,SAACK,IAAD,QAAUA,CAAAA,IAAI,CAACH,GAAL,GAAaJ,OAAO,CAACI,GAA/B,EAArB,CAHX,mBAMF,IAAK,sBAAL,CACE,sCACKN,KADL,MAEEF,aAAa,8BAAME,KAAK,CAACF,aAAZ,GAA2BI,OAA3B,EAFf,GAIF,IAAK,8BAAL,CACE,sCACKF,KADL,MAEEP,sBAAsB,8BAAMO,KAAK,CAACP,sBAAZ,GAAoCS,OAApC,EAFxB,GAIF,QACE,MAAOF,CAAAA,KAAP,CApDJ,CAsDD,CAvDM","sourcesContent":["export const initialState = {\n  user: {},\n  departments: [],\n  usersOfOtherDepartment: [],\n  pending: [],\n  approved: [],\n  rejected: [],\n  approvalRequest: [],\n  notifications: [],\n};\n\nexport const reducer = (state, { type, payload }) => {\n  switch (type) {\n    case \"SET_USER_DATA\":\n      return {\n        user: payload.user,\n        departments: payload.departments,\n        usersOfOtherDepartment: payload.usersOfOtherDepartment,\n        pending: payload.userForms.pending,\n        approved: payload.userForms.approved,\n        rejected: payload.userForms.rejected,\n        approvalRequest: payload.approvalRequest,\n        notifications: payload.notifications,\n      };\n    case \"UPDATE_PENDING_REQUESTS\":\n      return {\n        ...state,\n        pending: [...state.pending, payload],\n      };\n    case \"UPDATE_APPROVAL_REQUESTS\":\n      return {\n        ...state,\n        approvalRequest: [...state.approvalRequest, payload],\n      };\n    case \"UPDATE_REQUEST\":\n      return {\n        ...state,\n        approvalRequest: state.approvalRequest.filter(\n          (request) => request._id !== payload\n        ),\n      };\n    case \"UPDATE_USER_FORMS\":\n      const updatedFormData = state.pending.find(\n        (form) => form._id === payload._id\n      );\n      if (!updatedFormData) return state;\n      updatedFormData.state = payload.state;\n      return {\n        ...state,\n        [payload.state]: [...state[payload.state], updatedFormData],\n        pending: state.pending.filter((form) => form._id !== payload._id),\n      };\n\n    case \"UPDATE_NOTIFICATIONS\":\n      return {\n        ...state,\n        notifications: [...state.notifications, payload],\n      };\n    case \"UPDATE_OTHER_DEPARTMENT_USER\":\n      return {\n        ...state,\n        usersOfOtherDepartment: [...state.usersOfOtherDepartment, payload],\n      };\n    default:\n      return state;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}