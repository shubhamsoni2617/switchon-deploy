{"version":3,"sources":["top-nav/index.js","Toaster.js","loader-modal/LoaderModal.js","utils.js","Pages/authentication/login-page/index.js","Pages/form-page/index.js","PrivateRoute.js","Pages/authentication/signup-page/index.js","reducer.js","Pages/user-form-status/Pending.js","Pages/user-form-status/Approved.js","Pages/user-form-status/Rejected.js","Pages/approval-request/index.js","Pages/notifications/index.js","Pages/about/index.js","Routes.js","App.js","index.js"],"names":["withRouter","history","className","to","src","process","alt","location","pathname","onClick","sessionStorage","clear","push","Toast","Swal","mixin","toast","position","showConfirmButton","timer","timerProgressBar","onOpen","addEventListener","stopTimer","resumeTimer","makeToast","type","msg","fire","icon","title","modal","document","getElementById","Modal","isLoading","children","el","createElement","useEffect","appendChild","removeChild","createPortal","LoaderModal","getToken","getItem","Axios","axios","create","baseURL","dispatch","setupSocket","useState","email","setEmail","password","setPassword","loading","setLoading","htmlFor","name","id","placeholder","value","onChange","target","post","then","response","data","message","payload","setItem","token","catch","err","FormPage","state","socket","user","departments","usersOfOtherDepartment","console","log","assignTo","setAssignTo","setMessage","validationError","setValidationError","useHistory","onSubmit","a","department","find","approverId","approverName","username","headers","Authorization","emit","formData","disabled","map","key","PrivateRoute","Component","component","compProps","rest","render","props","from","SignupPage","setUserName","setDepartment","registerUser","io","query","dep","initialState","pending","approved","rejected","approvalRequest","notifications","reducer","userForms","filter","request","_id","updatedFormData","form","PendingPage","pendingReq","length","ApprovedPage","approvedReq","RejectedPage","rejectedReq","ApprovalRequest","userId","patch","requestor","Notifications","notification","formId","About","Routes","setSocket","useReducer","newSocket","on","setTimeout","get","fetchUserData","exact","path","App","ReactDOM"],"mappings":"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","file":"static/js/main.5c64f7e2.chunk.js","sourcesContent":["import React from 'react';\nimport './style.css';\nimport { NavLink, withRouter } from 'react-router-dom';\n\nconst TopNav = ({ history }) => {\n  return (\n    <div className='topnav'>\n      <div className='left-nav'>\n        <NavLink to='/form'>Form</NavLink>\n        <NavLink to='/pending'>Pending</NavLink>\n        <NavLink to='/approved'>Approved</NavLink>\n        <NavLink to='/rejected'>Rejected</NavLink>\n        <NavLink to='/request'>Request(for Approval)</NavLink>\n      </div>\n      <div className='right-nav'>\n        <NavLink to='/notifications'>\n          <img\n            src={`${process.env.PUBLIC_URL}/bell.svg`}\n            alt='notification-icon'\n          />\n        </NavLink>\n        {history.location.pathname === '/signup' ||\n        history.location.pathname === '/login' ? (\n          <>\n            {history.location.pathname === '/login' && (\n              <NavLink className='auth' to='/signup'>\n                Signup\n              </NavLink>\n            )}\n            {history.location.pathname === '/signup' && (\n              <NavLink className='auth' to='/login'>\n                Login\n              </NavLink>\n            )}\n          </>\n        ) : (\n          <span\n            onClick={() => {\n              sessionStorage.clear();\n              history.push('/login');\n            }}\n          >\n            Logout\n          </span>\n        )}\n        <NavLink to='/about'>About</NavLink>\n      </div>\n    </div>\n  );\n};\n\nexport default withRouter(TopNav);\n","import Swal from \"sweetalert2\";\n\nconst Toast = Swal.mixin({\n  toast: true,\n  position: \"top-end\",\n  showConfirmButton: false,\n  timer: 3000,\n  timerProgressBar: true,\n  onOpen: (toast) => {\n    toast.addEventListener(\"mouseenter\", Swal.stopTimer);\n    toast.addEventListener(\"mouseleave\", Swal.resumeTimer);\n  },\n});\n\nconst makeToast = (type, msg) => {\n  Toast.fire({\n    icon: type,\n    title: msg,\n  });\n};\n\nexport default makeToast;\n","import React, { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport \"./style.css\";\n\nconst modal = document.getElementById(\"modal\");\n\nconst Modal = ({ isLoading, children }) => {\n  const el = document.createElement(\"div\");\n  useEffect(() => {\n    modal.appendChild(el);\n    return () => modal.removeChild(el);\n  }, [el]);\n  return isLoading\n    ? createPortal(<div className=\"modal\">{children}</div>, el)\n    : null;\n};\n\nconst LoaderModal = ({ isLoading }) => {\n  return (\n    <Modal isLoading={isLoading}>\n      <img src={`${process.env.PUBLIC_URL}/loading.svg`} alt=\"loader\" />\n    </Modal>\n  );\n};\n\nexport default LoaderModal;\n","import axios from \"axios\";\n\nexport const getToken = () => sessionStorage.getItem(\"CC_Token\");\n\nexport const Axios = axios.create({\n  baseURL: \"/\",\n});\n","import React, { useState } from \"react\";\nimport \"../style.css\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport makeToast from \"../../../Toaster\";\nimport LoaderModal from \"../../../loader-modal/LoaderModal\";\nimport { Axios } from \"../../../utils\";\n\nconst LoginPage = ({ history, dispatch, setupSocket }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const loginUser = () => {\n    setLoading(true);\n    Axios.post(\"/login\", {\n      email,\n      password,\n    })\n      .then((response) => {\n        makeToast(\"success\", response.data.message);\n        dispatch({\n          type: \"SET_USER_DATA\",\n          payload: response.data,\n        });\n        setLoading(false);\n\n        sessionStorage.setItem(\"CC_Token\", response.data.token);\n        history.push(\"/form\");\n        setupSocket();\n      })\n      .catch((err) => {\n        if (\n          err &&\n          err.response &&\n          err.response.data &&\n          err.response.data.message\n        ) {\n          setLoading(false);\n          makeToast(\"error\", err.response.data.message);\n        }\n      });\n  };\n\n  return (\n    <div className=\"card\">\n      <LoaderModal isLoading={loading} />\n      <div className=\"cardHeader\">Login</div>\n      <div className=\"cardBody\">\n        <div className=\"inputGroup\">\n          <label htmlFor=\"email\">Email</label>\n          <input\n            type=\"email\"\n            name=\"email\"\n            id=\"email\"\n            placeholder=\"abc@example.com\"\n            value={email}\n            onChange={({ target }) => setEmail(target.value)}\n          />\n        </div>\n        <div className=\"inputGroup\">\n          <label htmlFor=\"password\">Password</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            id=\"password\"\n            placeholder=\"Your Password\"\n            value={password}\n            onChange={({ target }) => setPassword(target.value)}\n          />\n        </div>\n        <button onClick={loginUser}>Login</button>\n      </div>\n      <Link to=\"/signup\">Signup Instead</Link>\n    </div>\n  );\n};\n\nexport default withRouter(LoginPage);\n","import React, { useState } from 'react';\nimport './style.css';\nimport makeToast from '../../Toaster';\nimport { getToken, Axios } from '../../utils';\nimport { useHistory } from 'react-router-dom';\nimport LoaderModal from '../../loader-modal/LoaderModal';\n\nconst FormPage = ({ state, dispatch, socket }) => {\n  const { user = {}, departments = [], usersOfOtherDepartment = [] } = state;\n  console.log(usersOfOtherDepartment);\n\n  const [assignTo, setAssignTo] = useState('Select');\n  const [message, setMessage] = useState('');\n  const [validationError, setValidationError] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const history = useHistory();\n  const handleValidation = () => {\n    if (assignTo === 'Select') return setValidationError(true);\n    if (!message) return setValidationError(true);\n    setValidationError(false);\n    return true;\n  };\n\n  const onSubmit = async () => {\n    try {\n      setLoading(true);\n\n      const response = await Axios.post(\n        '/form',\n        {\n          message,\n          department: departments.find(\n            (department) => department !== user.department\n          ),\n\n          approverId: assignTo,\n          approverName: usersOfOtherDepartment.find(\n            (user) => user.approverId === assignTo\n          ).username,\n        },\n        {\n          headers: {\n            Authorization: 'Bearer ' + getToken(),\n          },\n        }\n      );\n\n      socket.emit('formSubmit', {\n        response: response.data.formData,\n      });\n      dispatch({\n        type: 'UPDATE_PENDING_REQUESTS',\n        payload: response.data.formData,\n      });\n      setMessage('');\n      setAssignTo('Select');\n      setLoading(false);\n\n      makeToast('success', response.data.message);\n      history.push('/pending');\n    } catch (err) {\n      if (\n        err &&\n        err.response &&\n        err.response.data &&\n        err.response.data.message\n      ) {\n        setLoading(false);\n        makeToast('error', err.response.data.message);\n      }\n    }\n  };\n\n  return (\n    <div className='card form'>\n      <LoaderModal isLoading={loading} />\n      <div className='cardHeader'>Form</div>\n      <div className='cardBody'>\n        <div className='inputGroup'>\n          <label htmlFor='name'>Created By</label>\n          {user.username && (\n            <input\n              name='name'\n              value={user.username}\n              disabled\n              placeholder='John Doe'\n            />\n          )}\n        </div>\n        <div className='inputGroup'>\n          <label htmlFor='department'>Department To Assign</label>\n          {user.department && (\n            <input\n              name='department'\n              value={departments.find(\n                (department) => department !== user.department\n              )}\n              disabled\n              placeholder='John Doe'\n            />\n          )}\n        </div>\n\n        <div className='select'>\n          <label htmlFor='department'>Assign To</label>\n          <select\n            value={assignTo}\n            placeholder='select'\n            onChange={({ target }) => setAssignTo(target.value)}\n          >\n            <option disabled>Select</option>\n            {usersOfOtherDepartment.map((user) => (\n              <option key={user.approverId} value={user.approverId}>\n                {user.username}\n              </option>\n            ))}\n          </select>\n        </div>\n        <div className='inputGroup'>\n          <label>Message</label>\n          <textarea\n            onChange={({ target }) => setMessage(target.value)}\n            value={message}\n            placeholder='Type your message here...'\n          />\n        </div>\n        {validationError && <p className='error'>All fields are required</p>}\n        <button\n          onClick={() => {\n            handleValidation() && onSubmit();\n          }}\n        >\n          Submit\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default FormPage;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { getToken } from \"./utils\";\n\nconst PrivateRoute = ({ component: Component, compProps, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        getToken() ? (\n          <Component {...props} {...compProps} />\n        ) : (\n          <Redirect\n            to={{ pathname: \"/login\", state: { from: props.location } }}\n          />\n        )\n      }\n    />\n  );\n};\n\nexport default PrivateRoute;\n","import React, { useState } from \"react\";\nimport makeToast from \"../../../Toaster\";\nimport \"../style.css\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport io from \"socket.io-client\";\nimport LoaderModal from \"../../../loader-modal/LoaderModal\";\nimport { Axios } from \"../../../utils\";\n\nconst SignupPage = ({ socket }) => {\n  const [username, setUserName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [department, setDepartment] = useState(\"Department 1\");\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n\n  const registerUser = async () => {\n    try {\n      setLoading(true);\n      const response = await Axios.post(\"/register\", {\n        username,\n        email,\n        password,\n        department,\n      });\n      io(\"https://morning-cliffs-18166.herokuapp.com/\", {\n        query: {\n          username,\n          department,\n          approverId: response.data.approverId,\n        },\n      });\n      setLoading(false);\n      makeToast(\"success\", response.data.message);\n      history.push(\"/login\");\n    } catch (err) {\n      if (\n        err &&\n        err.response &&\n        err.response.data &&\n        err.response.data.message\n      ) {\n        setLoading(false);\n\n        makeToast(\"error\", err.response.data.message);\n      }\n    }\n  };\n\n  return (\n    <div className=\"card\">\n      <LoaderModal isLoading={loading} />\n      <div className=\"cardHeader\">Singup</div>\n      <div className=\"cardBody\">\n        <div className=\"inputGroup\">\n          <label htmlFor=\"name\">Username</label>\n          <input\n            type=\"text\"\n            name=\"name\"\n            id=\"name\"\n            placeholder=\"John Doe\"\n            value={username}\n            onChange={({ target }) => setUserName(target.value)}\n          />\n        </div>\n        <div className=\"inputGroup\">\n          <label htmlFor=\"email\">Email</label>\n          <input\n            type=\"email\"\n            name=\"email\"\n            id=\"email\"\n            placeholder=\"abc@example.com\"\n            value={email}\n            onChange={({ target }) => setEmail(target.value)}\n          />\n        </div>\n      </div>\n      <div className=\"inputGroup\">\n        <label htmlFor=\"password\">Password</label>\n        <input\n          type=\"password\"\n          name=\"password\"\n          id=\"password\"\n          placeholder=\"Your Password\"\n          value={password}\n          onChange={({ target }) => setPassword(target.value)}\n        />\n      </div>\n\n      <div className=\"inputGroup\">\n        <p className=\"department-label\" htmlFor=\"department\">\n          Department\n        </p>\n        <select\n          value={department}\n          placeholder=\"select\"\n          onChange={({ target }) => setDepartment(target.value)}\n        >\n          {[\"Department 1\", \"Department 2\"].map((dep) => (\n            <option key={dep} value={dep}>\n              {dep}\n            </option>\n          ))}\n        </select>\n      </div>\n      <button onClick={registerUser}>Register</button>\n      <Link to=\"/login\">Login Instead</Link>\n    </div>\n  );\n};\n\nexport default SignupPage;\n","export const initialState = {\n  user: {},\n  departments: [],\n  usersOfOtherDepartment: [],\n  pending: [],\n  approved: [],\n  rejected: [],\n  approvalRequest: [],\n  notifications: [],\n};\n\nexport const reducer = (state, { type, payload }) => {\n  switch (type) {\n    case \"SET_USER_DATA\":\n      return {\n        user: payload.user,\n        departments: payload.departments,\n        usersOfOtherDepartment: payload.usersOfOtherDepartment,\n        pending: payload.userForms.pending,\n        approved: payload.userForms.approved,\n        rejected: payload.userForms.rejected,\n        approvalRequest: payload.approvalRequest,\n        notifications: payload.notifications,\n      };\n    case \"UPDATE_PENDING_REQUESTS\":\n      return {\n        ...state,\n        pending: [...state.pending, payload],\n      };\n    case \"UPDATE_APPROVAL_REQUESTS\":\n      return {\n        ...state,\n        approvalRequest: [...state.approvalRequest, payload],\n      };\n    case \"UPDATE_REQUEST\":\n      return {\n        ...state,\n        approvalRequest: state.approvalRequest.filter(\n          (request) => request._id !== payload\n        ),\n      };\n    case \"UPDATE_USER_FORMS\":\n      const updatedFormData = state.pending.find(\n        (form) => form._id === payload._id\n      );\n      if (!updatedFormData) return state;\n      updatedFormData.state = payload.state;\n      return {\n        ...state,\n        [payload.state]: [...state[payload.state], updatedFormData],\n        pending: state.pending.filter((form) => form._id !== payload._id),\n      };\n\n    case \"UPDATE_NOTIFICATIONS\":\n      return {\n        ...state,\n        notifications: [...state.notifications, payload],\n      };\n    case \"UPDATE_OTHER_DEPARTMENT_USER\":\n      return {\n        ...state,\n        usersOfOtherDepartment: [...state.usersOfOtherDepartment, payload],\n      };\n    default:\n      return state;\n  }\n};\n","import React from \"react\";\n\nconst PendingPage = ({ pending }) => {\n  return (\n    <div>\n      {pending.map((pendingReq) => (\n        <p className=\"user-form\" key={pendingReq._id}>\n          A new request <span className=\"form-id\">#{pendingReq._id}</span> has\n          been submitted by you to {pendingReq.approverName} having message \"\n          {pendingReq.message}\"\n        </p>\n      ))}\n      {!pending.length && <h3>No results found</h3>}\n    </div>\n  );\n};\n\nexport default PendingPage;\n","import React from \"react\";\n\nconst ApprovedPage = ({ approved }) => {\n  return (\n    <div>\n      {approved.map((approvedReq) => (\n        <p className=\"user-form\" key={approvedReq._id}>\n          The request <span className=\"form-id\">#{approvedReq._id}</span> from\n          you has been approved by {approvedReq.approverName} having message \"\n          {approvedReq.message}\"\n        </p>\n      ))}\n      {!approved.length && <h3>No results found</h3>}\n    </div>\n  );\n};\n\nexport default ApprovedPage;\n","import React from \"react\";\n\nconst RejectedPage = ({ rejected }) => {\n  return (\n    <div>\n      {rejected.map((rejectedReq) => (\n        <p className=\"user-form\" key={rejectedReq._id}>\n          The request <span className=\"form-id\">#{rejectedReq._id}</span> from\n          you has been rejected by {rejectedReq.approverName} having message \"\n          {rejectedReq.message}\"\n        </p>\n      ))}\n      {!rejected.length && <h3>No results found</h3>}\n    </div>\n  );\n};\n\nexport default RejectedPage;\n","import React, { useState } from \"react\";\nimport \"./style.css\";\nimport makeToast from \"../../Toaster\";\nimport { getToken, Axios } from \"../../utils\";\nimport LoaderModal from \"../../loader-modal/LoaderModal\";\n\nconst ApprovalRequest = ({ approvalRequest, userId, socket, dispatch }) => {\n  const [loading, setLoading] = useState(false);\n\n  const onClick = async (payload) => {\n    try {\n      setLoading(true);\n\n      const response = await Axios.patch(\n        \"/form\",\n        {\n          payload,\n        },\n        {\n          headers: {\n            Authorization: \"Bearer \" + getToken(),\n          },\n        }\n      );\n\n      socket.emit(\"stateUpdate\", {\n        response: { payload },\n      });\n      setLoading(false);\n\n      dispatch({\n        type: \"UPDATE_REQUEST\",\n        payload: payload._id,\n      });\n      makeToast(\"success\", response.data.message);\n    } catch (err) {\n      if (\n        err &&\n        err.response &&\n        err.response.data &&\n        err.response.data.message\n      ) {\n        setLoading(false);\n        makeToast(\"error\", err.response.data.message);\n      }\n    }\n  };\n  return (\n    <div>\n      <LoaderModal isLoading={loading} />\n      {approvalRequest.map((request) => (\n        <div className=\"user-form\" key={request._id}>\n          <p>\n            A new request <span className=\"form-id\">#{request._id}</span> has\n            been submitted by {request.requestor} to{\" \"}\n            {request.approverId === userId ? \"you\" : request.approverName}{\" \"}\n            having message \"{request.message}\"\n          </p>\n          {request.approverId === userId && (\n            <div className=\"approval-button\">\n              <button\n                onClick={() => {\n                  const payload = { ...request, state: \"approved\" };\n                  onClick(payload);\n                }}\n              >\n                Approve\n              </button>\n              <button\n                onClick={() => {\n                  const payload = { ...request, state: \"rejected\" };\n                  onClick(payload);\n                }}\n              >\n                Reject\n              </button>\n            </div>\n          )}\n        </div>\n      ))}\n      {!approvalRequest.length && <h3>No results found</h3>}\n    </div>\n  );\n};\n\nexport default ApprovalRequest;\n","import React from \"react\";\n\nconst Notifications = ({ notifications, username }) => {\n  return (\n    <div>\n      {notifications.map((notification) => {\n        return notification.state === \"pending\" ? (\n          <p className=\"user-form\" key={notification.formId}>\n            A new request{\" \"}\n            <span className=\"form-id\">#{notification.formId}</span> has been\n            submitted by{\" \"}\n            {notification.requestor === username\n              ? `you`\n              : notification.requestor}{\" \"}\n            to{\" \"}\n            {notification.approverName === username\n              ? `you`\n              : notification.approverName}{\" \"}\n            having message \"{notification.message}\"\n          </p>\n        ) : (\n          <p className=\"user-form\" key={notification.formId}>\n            The request <span className=\"form-id\">#{notification.formId}</span>{\" \"}\n            from{\" \"}\n            {notification.requestor === username\n              ? `you`\n              : notification.requestor}{\" \"}\n            has been {notification.state} by{\" \"}\n            {notification.approverName === username\n              ? `you`\n              : notification.approverName}{\" \"}\n            having message \"{notification.message}\"\n          </p>\n        );\n      })}\n      {!notifications.length && <h3>No results found</h3>}\n    </div>\n  );\n};\n\nexport default Notifications;\n","import React from 'react';\nimport './style.css';\n\nconst About = () => {\n  return (\n    <div className='about'>\n      <h2>\n        A realtime request approval/rejection system between two departments.\n        Department 1 can approve/reject Department 2's request and vice versa.\n      </h2>\n      <h3>You can sign up to get started</h3>\n    </div>\n  );\n};\n\nexport default About;\n","import React, { useState, useEffect, useReducer } from 'react';\nimport { Switch, Route, Redirect, useHistory } from 'react-router-dom';\nimport io from 'socket.io-client';\nimport makeToast from './Toaster';\nimport LoginPage from './Pages/authentication/login-page';\nimport FormPage from './Pages/form-page';\nimport PrivateRoute from './PrivateRoute';\nimport SignupPage from './Pages/authentication/signup-page';\nimport { getToken, Axios } from './utils';\nimport { reducer, initialState } from './reducer';\nimport PendingPage from './Pages/user-form-status/Pending';\nimport ApprovedPage from './Pages/user-form-status/Approved';\nimport RejectedPage from './Pages/user-form-status/Rejected';\nimport ApprovalRequest from './Pages/approval-request';\nimport Notifications from './Pages/notifications';\nimport LoaderModal from './loader-modal/LoaderModal';\nimport About from './Pages/about';\n\nconst Routes = () => {\n  const [socket, setSocket] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const setupSocket = () => {\n    if (!socket) {\n      const newSocket = io('https://morning-cliffs-18166.herokuapp.com', {\n        query: {\n          token: getToken(),\n        },\n      });\n\n      newSocket.on('disconnect', () => {\n        setSocket(null);\n        setTimeout(setupSocket, 3000);\n        // makeToast(\"error\", \"Socket Disconnected!\");\n      });\n\n      newSocket.on('connect', () => {\n        // makeToast(\"success\", \"Socket Connected!\");\n      });\n      setSocket(newSocket);\n    }\n  };\n\n  useEffect(() => {\n    const fetchUserData = async () => {\n      if (!getToken()) return;\n      try {\n        setLoading(true);\n        const response = await Axios.get('/userdata', {\n          headers: {\n            Authorization: 'Bearer ' + getToken(),\n          },\n        });\n\n        dispatch({\n          type: 'SET_USER_DATA',\n          payload: response.data,\n        });\n        setupSocket();\n        setLoading(false);\n      } catch (error) {\n        setLoading(false);\n        console.log(111, history.location.pathname);\n        sessionStorage.clear();\n        if (\n          history.location.pathname === '/login' ||\n          history.location.pathname === '/signup'\n        )\n          return;\n        makeToast('error', 'User not authenticated');\n        history.push('/login');\n      }\n    };\n    fetchUserData();\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    if (socket) {\n      socket.on('approvalDepartment', (payload) => {\n        dispatch({\n          type: 'UPDATE_APPROVAL_REQUESTS',\n          payload,\n        });\n      });\n\n      socket.on('stateUpdated', (payload) => {\n        dispatch({\n          type: 'UPDATE_USER_FORMS',\n          payload,\n        });\n      });\n\n      socket.on('notification', (payload) => {\n        dispatch({\n          type: 'UPDATE_NOTIFICATIONS',\n          payload,\n        });\n        makeToast('info', 'New Notification');\n      });\n\n      socket.on('newUser', (payload) => {\n        makeToast('info', 'New user registered');\n        dispatch({\n          type: 'UPDATE_OTHER_DEPARTMENT_USER',\n          payload,\n        });\n      });\n    }\n  }, [socket]);\n  return (\n    <div className='container'>\n      <LoaderModal isLoading={loading} />\n      <Switch>\n        <Redirect from='/' to={`/${getToken() ? `form` : `login`}`} exact />\n        <Route\n          path='/login'\n          render={(props) => (\n            <LoginPage\n              setupSocket={setupSocket}\n              dispatch={dispatch}\n              {...props}\n            />\n          )}\n          exact\n        />\n        <Route path='/about' render={(props) => <About {...props} exact />} />\n        <Route\n          path='/signup'\n          render={(props) => <SignupPage {...props} socket={socket} exact />}\n        />\n        <PrivateRoute\n          path='/form'\n          component={FormPage}\n          compProps={{ state, dispatch, socket }}\n          exact\n        />\n        <PrivateRoute\n          path='/pending'\n          component={PendingPage}\n          compProps={{ pending: state.pending }}\n          exact\n        />\n        <PrivateRoute\n          path='/rejected'\n          component={RejectedPage}\n          compProps={{ rejected: state.rejected }}\n          exact\n        />\n        <PrivateRoute\n          path='/approved'\n          component={ApprovedPage}\n          compProps={{ approved: state.approved }}\n          exact\n        />\n        <PrivateRoute\n          path='/request'\n          component={ApprovalRequest}\n          compProps={{\n            approvalRequest: state.approvalRequest,\n            userId: state.user._id,\n            socket,\n            dispatch,\n          }}\n          exact\n        />\n        <PrivateRoute\n          path='/notifications'\n          component={Notifications}\n          compProps={{\n            notifications: state.notifications,\n            username: state.user.username,\n          }}\n          exact\n        />\n      </Switch>\n    </div>\n  );\n};\n\nexport default Routes;\n","import React from \"react\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport TopNav from \"./top-nav\";\nimport Routes from \"./Routes\";\n\nconst App = () => {\n  return (\n    <Router>\n      <TopNav />\n      <Routes />\n    </Router>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/common.css\";\nimport \"./styles/chatroom.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}