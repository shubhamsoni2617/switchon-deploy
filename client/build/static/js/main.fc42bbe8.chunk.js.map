{"version":3,"sources":["top-nav/index.js","Toaster.js","loader-modal/LoaderModal.js","utils.js","Pages/authentication/login-page/index.js","Pages/form-page/index.js","PrivateRoute.js","Pages/authentication/signup-page/index.js","reducer.js","Pages/user-form-status/Pending.js","Pages/user-form-status/Approved.js","Pages/user-form-status/Rejected.js","Pages/approval-request/index.js","Pages/notifications/index.js","Routes.js","App.js","index.js"],"names":["withRouter","history","className","to","src","process","alt","location","pathname","onClick","sessionStorage","clear","push","Toast","Swal","mixin","toast","position","showConfirmButton","timer","timerProgressBar","onOpen","addEventListener","stopTimer","resumeTimer","makeToast","type","msg","fire","icon","title","modal","document","getElementById","Modal","isLoading","children","el","createElement","useEffect","appendChild","removeChild","createPortal","LoaderModal","getToken","getItem","Axios","axios","create","baseURL","dispatch","setupSocket","useState","email","setEmail","password","setPassword","loading","setLoading","htmlFor","name","id","placeholder","value","onChange","target","post","then","response","data","message","payload","setItem","token","catch","err","FormPage","state","socket","user","departments","usersOfOtherDepartment","assignTo","setAssignTo","setMessage","validationError","setValidationError","useHistory","onSubmit","a","department","find","approverId","approverName","username","headers","Authorization","emit","formData","disabled","map","key","PrivateRoute","Component","component","compProps","rest","render","props","from","SignupPage","setUserName","setDepartment","registerUser","io","query","dep","initialState","pending","approved","rejected","approvalRequest","notifications","reducer","userForms","filter","request","_id","updatedFormData","form","PendingPage","pendingReq","length","ApprovedPage","approvedReq","RejectedPage","rejectedReq","ApprovalRequest","userId","patch","requestor","Notifications","notification","formId","Routes","setSocket","useReducer","newSocket","on","setTimeout","get","console","log","fetchUserData","exact","path","App","ReactDOM"],"mappings":"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","file":"static/js/main.fc42bbe8.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./style.css\";\nimport { NavLink, withRouter } from \"react-router-dom\";\n\nconst TopNav = ({ history }) => {\n  return (\n    <div className=\"topnav\">\n      <div className=\"left-nav\">\n        <NavLink to=\"/form\">Form</NavLink>\n        <NavLink to=\"/pending\">Pending</NavLink>\n        <NavLink to=\"/approved\">Approved</NavLink>\n        <NavLink to=\"/rejected\">Rejected</NavLink>\n        <NavLink to=\"/request\">Request(for Approval)</NavLink>\n      </div>\n      <div className=\"right-nav\">\n        <NavLink to=\"/notifications\">\n          <img\n            src={`${process.env.PUBLIC_URL}/bell.svg`}\n            alt=\"notification-icon\"\n          />\n        </NavLink>\n        {history.location.pathname === \"/signup\" ||\n        history.location.pathname === \"/login\" ? (\n          <>\n            {history.location.pathname === \"/login\" && (\n              <NavLink className=\"auth\" to=\"/signup\">\n                Signup\n              </NavLink>\n            )}\n            {history.location.pathname === \"/signup\" && (\n              <NavLink className=\"auth\" to=\"/login\">\n                Login\n              </NavLink>\n            )}\n          </>\n        ) : (\n          <span\n            onClick={() => {\n              sessionStorage.clear();\n              history.push(\"/login\");\n            }}\n          >\n            Logout\n          </span>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default withRouter(TopNav);\n","import Swal from \"sweetalert2\";\n\nconst Toast = Swal.mixin({\n  toast: true,\n  position: \"top-end\",\n  showConfirmButton: false,\n  timer: 3000,\n  timerProgressBar: true,\n  onOpen: (toast) => {\n    toast.addEventListener(\"mouseenter\", Swal.stopTimer);\n    toast.addEventListener(\"mouseleave\", Swal.resumeTimer);\n  },\n});\n\nconst makeToast = (type, msg) => {\n  Toast.fire({\n    icon: type,\n    title: msg,\n  });\n};\n\nexport default makeToast;\n","import React, { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport \"./style.css\";\n\nconst modal = document.getElementById(\"modal\");\n\nconst Modal = ({ isLoading, children }) => {\n  const el = document.createElement(\"div\");\n  useEffect(() => {\n    modal.appendChild(el);\n    return () => modal.removeChild(el);\n  }, [el]);\n  return isLoading\n    ? createPortal(<div className=\"modal\">{children}</div>, el)\n    : null;\n};\n\nconst LoaderModal = ({ isLoading }) => {\n  return (\n    <Modal isLoading={isLoading}>\n      <img src={`${process.env.PUBLIC_URL}/loading.svg`} alt=\"loader\" />\n    </Modal>\n  );\n};\n\nexport default LoaderModal;\n","import axios from \"axios\";\n\nexport const getToken = () => sessionStorage.getItem(\"CC_Token\");\n\nexport const Axios = axios.create({\n  baseURL: \"/\",\n});\n","import React, { useState } from \"react\";\nimport \"../style.css\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport makeToast from \"../../../Toaster\";\nimport LoaderModal from \"../../../loader-modal/LoaderModal\";\nimport { Axios } from \"../../../utils\";\n\nconst LoginPage = ({ history, dispatch, setupSocket }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const loginUser = () => {\n    setLoading(true);\n    Axios.post(\"/login\", {\n      email,\n      password,\n    })\n      .then((response) => {\n        makeToast(\"success\", response.data.message);\n        dispatch({\n          type: \"SET_USER_DATA\",\n          payload: response.data,\n        });\n        setLoading(false);\n\n        sessionStorage.setItem(\"CC_Token\", response.data.token);\n        history.push(\"/form\");\n        setupSocket();\n      })\n      .catch((err) => {\n        if (\n          err &&\n          err.response &&\n          err.response.data &&\n          err.response.data.message\n        ) {\n          setLoading(false);\n          makeToast(\"error\", err.response.data.message);\n        }\n      });\n  };\n\n  return (\n    <div className=\"card\">\n      <LoaderModal isLoading={loading} />\n      <div className=\"cardHeader\">Login</div>\n      <div className=\"cardBody\">\n        <div className=\"inputGroup\">\n          <label htmlFor=\"email\">Email</label>\n          <input\n            type=\"email\"\n            name=\"email\"\n            id=\"email\"\n            placeholder=\"abc@example.com\"\n            value={email}\n            onChange={({ target }) => setEmail(target.value)}\n          />\n        </div>\n        <div className=\"inputGroup\">\n          <label htmlFor=\"password\">Password</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            id=\"password\"\n            placeholder=\"Your Password\"\n            value={password}\n            onChange={({ target }) => setPassword(target.value)}\n          />\n        </div>\n        <button onClick={loginUser}>Login</button>\n      </div>\n      <Link to=\"/signup\">Signup Instead</Link>\n    </div>\n  );\n};\n\nexport default withRouter(LoginPage);\n","import React, { useState } from \"react\";\nimport \"./style.css\";\nimport makeToast from \"../../Toaster\";\nimport { getToken, Axios } from \"../../utils\";\nimport { useHistory } from \"react-router-dom\";\nimport LoaderModal from \"../../loader-modal/LoaderModal\";\n\nconst FormPage = ({ state, dispatch, socket }) => {\n  const { user = {}, departments = [], usersOfOtherDepartment = [] } = state;\n  const [assignTo, setAssignTo] = useState(\"Select\");\n  const [message, setMessage] = useState(\"\");\n  const [validationError, setValidationError] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const history = useHistory();\n  const handleValidation = () => {\n    if (assignTo === \"Select\") return setValidationError(true);\n    if (!message) return setValidationError(true);\n    setValidationError(false);\n    return true;\n  };\n\n  const onSubmit = async () => {\n    try {\n      setLoading(true);\n\n      const response = await Axios.post(\n        \"/form\",\n        {\n          message,\n          department: departments.find(\n            (department) => department !== user.department\n          ),\n\n          approverId: assignTo,\n          approverName: usersOfOtherDepartment.find(\n            (user) => user.approverId === assignTo\n          ).username,\n        },\n        {\n          headers: {\n            Authorization: \"Bearer \" + getToken(),\n          },\n        }\n      );\n\n      socket.emit(\"formSubmit\", {\n        response: response.data.formData,\n      });\n      dispatch({\n        type: \"UPDATE_PENDING_REQUESTS\",\n        payload: response.data.formData,\n      });\n      setMessage(\"\");\n      setAssignTo(\"Select\");\n      setLoading(false);\n\n      makeToast(\"success\", response.data.message);\n      history.push(\"/pending\");\n    } catch (err) {\n      if (\n        err &&\n        err.response &&\n        err.response.data &&\n        err.response.data.message\n      ) {\n        setLoading(false);\n        makeToast(\"error\", err.response.data.message);\n      }\n    }\n  };\n\n  return (\n    <div className=\"card form\">\n      <LoaderModal isLoading={loading} />\n      <div className=\"cardHeader\">Form</div>\n      <div className=\"cardBody\">\n        <div className=\"inputGroup\">\n          <label htmlFor=\"name\">Created By</label>\n          {user.username && (\n            <input\n              name=\"name\"\n              value={user.username}\n              disabled\n              placeholder=\"John Doe\"\n            />\n          )}\n        </div>\n        <div className=\"inputGroup\">\n          <label htmlFor=\"department\">Department To Assign</label>\n          {user.department && (\n            <input\n              name=\"department\"\n              value={departments.find(\n                (department) => department !== user.department\n              )}\n              disabled\n              placeholder=\"John Doe\"\n            />\n          )}\n        </div>\n\n        <div className=\"select\">\n          <label htmlFor=\"department\">Assign To</label>\n          <select\n            value={assignTo}\n            placeholder=\"select\"\n            onChange={({ target }) => setAssignTo(target.value)}\n          >\n            <option disabled>Select</option>\n            {usersOfOtherDepartment.map((user) => (\n              <option key={user.approverId} value={user.approverId}>\n                {user.username}\n              </option>\n            ))}\n          </select>\n        </div>\n        <div className=\"inputGroup\">\n          <label>Message</label>\n          <textarea\n            onChange={({ target }) => setMessage(target.value)}\n            value={message}\n            placeholder=\"Type your message here...\"\n          />\n        </div>\n        {validationError && <p className=\"error\">All fields are required</p>}\n        <button\n          onClick={() => {\n            handleValidation() && onSubmit();\n          }}\n        >\n          Submit\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default FormPage;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { getToken } from \"./utils\";\n\nconst PrivateRoute = ({ component: Component, compProps, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        getToken() ? (\n          <Component {...props} {...compProps} />\n        ) : (\n          <Redirect\n            to={{ pathname: \"/login\", state: { from: props.location } }}\n          />\n        )\n      }\n    />\n  );\n};\n\nexport default PrivateRoute;\n","import React, { useState } from \"react\";\nimport makeToast from \"../../../Toaster\";\nimport \"../style.css\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport io from \"socket.io-client\";\nimport LoaderModal from \"../../../loader-modal/LoaderModal\";\nimport { Axios } from \"../../../utils\";\n\nconst SignupPage = ({ socket }) => {\n  const [username, setUserName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [department, setDepartment] = useState(\"Department 1\");\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n\n  const registerUser = async () => {\n    try {\n      setLoading(true);\n      const response = await Axios.post(\"/register\", {\n        username,\n        email,\n        password,\n        department,\n      });\n      io(\"http://localhost:8000\", {\n        query: {\n          username,\n          department,\n          approverId: response.data.approverId,\n        },\n      });\n      setLoading(false);\n      makeToast(\"success\", response.data.message);\n      history.push(\"/login\");\n    } catch (err) {\n      if (\n        err &&\n        err.response &&\n        err.response.data &&\n        err.response.data.message\n      ) {\n        setLoading(false);\n\n        makeToast(\"error\", err.response.data.message);\n      }\n    }\n  };\n\n  return (\n    <div className=\"card\">\n      <LoaderModal isLoading={loading} />\n      <div className=\"cardHeader\">Singup</div>\n      <div className=\"cardBody\">\n        <div className=\"inputGroup\">\n          <label htmlFor=\"name\">Username</label>\n          <input\n            type=\"text\"\n            name=\"name\"\n            id=\"name\"\n            placeholder=\"John Doe\"\n            value={username}\n            onChange={({ target }) => setUserName(target.value)}\n          />\n        </div>\n        <div className=\"inputGroup\">\n          <label htmlFor=\"email\">Email</label>\n          <input\n            type=\"email\"\n            name=\"email\"\n            id=\"email\"\n            placeholder=\"abc@example.com\"\n            value={email}\n            onChange={({ target }) => setEmail(target.value)}\n          />\n        </div>\n      </div>\n      <div className=\"inputGroup\">\n        <label htmlFor=\"password\">Password</label>\n        <input\n          type=\"password\"\n          name=\"password\"\n          id=\"password\"\n          placeholder=\"Your Password\"\n          value={password}\n          onChange={({ target }) => setPassword(target.value)}\n        />\n      </div>\n\n      <div className=\"inputGroup\">\n        <p className=\"department-label\" htmlFor=\"department\">\n          Department\n        </p>\n        <select\n          value={department}\n          placeholder=\"select\"\n          onChange={({ target }) => setDepartment(target.value)}\n        >\n          {[\"Department 1\", \"Department 2\"].map((dep) => (\n            <option key={dep} value={dep}>\n              {dep}\n            </option>\n          ))}\n        </select>\n      </div>\n      <button onClick={registerUser}>Register</button>\n      <Link to=\"/login\">Login Instead</Link>\n    </div>\n  );\n};\n\nexport default SignupPage;\n","export const initialState = {\n  user: {},\n  departments: [],\n  usersOfOtherDepartment: [],\n  pending: [],\n  approved: [],\n  rejected: [],\n  approvalRequest: [],\n  notifications: [],\n};\n\nexport const reducer = (state, { type, payload }) => {\n  switch (type) {\n    case \"SET_USER_DATA\":\n      return {\n        user: payload.user,\n        departments: payload.departments,\n        usersOfOtherDepartment: payload.usersOfOtherDepartment,\n        pending: payload.userForms.pending,\n        approved: payload.userForms.approved,\n        rejected: payload.userForms.rejected,\n        approvalRequest: payload.approvalRequest,\n        notifications: payload.notifications,\n      };\n    case \"UPDATE_PENDING_REQUESTS\":\n      return {\n        ...state,\n        pending: [...state.pending, payload],\n      };\n    case \"UPDATE_APPROVAL_REQUESTS\":\n      return {\n        ...state,\n        approvalRequest: [...state.approvalRequest, payload],\n      };\n    case \"UPDATE_REQUEST\":\n      return {\n        ...state,\n        approvalRequest: state.approvalRequest.filter(\n          (request) => request._id !== payload\n        ),\n      };\n    case \"UPDATE_USER_FORMS\":\n      const updatedFormData = state.pending.find(\n        (form) => form._id === payload._id\n      );\n      if (!updatedFormData) return state;\n      updatedFormData.state = payload.state;\n      return {\n        ...state,\n        [payload.state]: [...state[payload.state], updatedFormData],\n        pending: state.pending.filter((form) => form._id !== payload._id),\n      };\n\n    case \"UPDATE_NOTIFICATIONS\":\n      return {\n        ...state,\n        notifications: [...state.notifications, payload],\n      };\n    case \"UPDATE_OTHER_DEPARTMENT_USER\":\n      return {\n        ...state,\n        usersOfOtherDepartment: [...state.usersOfOtherDepartment, payload],\n      };\n    default:\n      return state;\n  }\n};\n","import React from \"react\";\n\nconst PendingPage = ({ pending }) => {\n  return (\n    <div>\n      {pending.map((pendingReq) => (\n        <p className=\"user-form\" key={pendingReq._id}>\n          A new request <span className=\"form-id\">#{pendingReq._id}</span> has\n          been submitted by you to {pendingReq.approverName} having message \"\n          {pendingReq.message}\"\n        </p>\n      ))}\n      {!pending.length && <h3>No results found</h3>}\n    </div>\n  );\n};\n\nexport default PendingPage;\n","import React from \"react\";\n\nconst ApprovedPage = ({ approved }) => {\n  return (\n    <div>\n      {approved.map((approvedReq) => (\n        <p className=\"user-form\" key={approvedReq._id}>\n          The request <span className=\"form-id\">#{approvedReq._id}</span> from\n          you has been approved by {approvedReq.approverName} having message \"\n          {approvedReq.message}\"\n        </p>\n      ))}\n      {!approved.length && <h3>No results found</h3>}\n    </div>\n  );\n};\n\nexport default ApprovedPage;\n","import React from \"react\";\n\nconst RejectedPage = ({ rejected }) => {\n  return (\n    <div>\n      {rejected.map((rejectedReq) => (\n        <p className=\"user-form\" key={rejectedReq._id}>\n          The request <span className=\"form-id\">#{rejectedReq._id}</span> from\n          you has been rejected by {rejectedReq.approverName} having message \"\n          {rejectedReq.message}\"\n        </p>\n      ))}\n      {!rejected.length && <h3>No results found</h3>}\n    </div>\n  );\n};\n\nexport default RejectedPage;\n","import React, { useState } from \"react\";\nimport \"./style.css\";\nimport makeToast from \"../../Toaster\";\nimport { getToken, Axios } from \"../../utils\";\nimport LoaderModal from \"../../loader-modal/LoaderModal\";\n\nconst ApprovalRequest = ({ approvalRequest, userId, socket, dispatch }) => {\n  const [loading, setLoading] = useState(false);\n\n  const onClick = async (payload) => {\n    try {\n      setLoading(true);\n\n      const response = await Axios.patch(\n        \"/form\",\n        {\n          payload,\n        },\n        {\n          headers: {\n            Authorization: \"Bearer \" + getToken(),\n          },\n        }\n      );\n\n      socket.emit(\"stateUpdate\", {\n        response: { payload },\n      });\n      setLoading(false);\n\n      dispatch({\n        type: \"UPDATE_REQUEST\",\n        payload: payload._id,\n      });\n      makeToast(\"success\", response.data.message);\n    } catch (err) {\n      if (\n        err &&\n        err.response &&\n        err.response.data &&\n        err.response.data.message\n      ) {\n        setLoading(false);\n        makeToast(\"error\", err.response.data.message);\n      }\n    }\n  };\n  return (\n    <div>\n      <LoaderModal isLoading={loading} />\n      {approvalRequest.map((request) => (\n        <div className=\"user-form\" key={request._id}>\n          <p>\n            A new request <span className=\"form-id\">#{request._id}</span> has\n            been submitted by {request.requestor} to{\" \"}\n            {request.approverId === userId ? \"you\" : request.approverName}{\" \"}\n            having message \"{request.message}\"\n          </p>\n          {request.approverId === userId && (\n            <div className=\"approval-button\">\n              <button\n                onClick={() => {\n                  const payload = { ...request, state: \"approved\" };\n                  onClick(payload);\n                }}\n              >\n                Approve\n              </button>\n              <button\n                onClick={() => {\n                  const payload = { ...request, state: \"rejected\" };\n                  onClick(payload);\n                }}\n              >\n                Reject\n              </button>\n            </div>\n          )}\n        </div>\n      ))}\n      {!approvalRequest.length && <h3>No results found</h3>}\n    </div>\n  );\n};\n\nexport default ApprovalRequest;\n","import React from \"react\";\n\nconst Notifications = ({ notifications, username }) => {\n  return (\n    <div>\n      {notifications.map((notification) => {\n        return notification.state === \"pending\" ? (\n          <p className=\"user-form\" key={notification.formId}>\n            A new request{\" \"}\n            <span className=\"form-id\">#{notification.formId}</span> has been\n            submitted by{\" \"}\n            {notification.requestor === username\n              ? `you`\n              : notification.requestor}{\" \"}\n            to{\" \"}\n            {notification.approverName === username\n              ? `you`\n              : notification.approverName}{\" \"}\n            having message \"{notification.message}\"\n          </p>\n        ) : (\n          <p className=\"user-form\" key={notification.formId}>\n            The request <span className=\"form-id\">#{notification.formId}</span>{\" \"}\n            from{\" \"}\n            {notification.requestor === username\n              ? `you`\n              : notification.requestor}{\" \"}\n            has been {notification.state} by{\" \"}\n            {notification.approverName === username\n              ? `you`\n              : notification.approverName}{\" \"}\n            having message \"{notification.message}\"\n          </p>\n        );\n      })}\n      {!notifications.length && <h3>No results found</h3>}\n    </div>\n  );\n};\n\nexport default Notifications;\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport { Switch, Route, Redirect, useHistory } from \"react-router-dom\";\nimport io from \"socket.io-client\";\nimport makeToast from \"./Toaster\";\nimport LoginPage from \"./Pages/authentication/login-page\";\nimport FormPage from \"./Pages/form-page\";\nimport PrivateRoute from \"./PrivateRoute\";\nimport SignupPage from \"./Pages/authentication/signup-page\";\nimport { getToken, Axios } from \"./utils\";\nimport { reducer, initialState } from \"./reducer\";\nimport PendingPage from \"./Pages/user-form-status/Pending\";\nimport ApprovedPage from \"./Pages/user-form-status/Approved\";\nimport RejectedPage from \"./Pages/user-form-status/Rejected\";\nimport ApprovalRequest from \"./Pages/approval-request\";\nimport Notifications from \"./Pages/notifications\";\nimport LoaderModal from \"./loader-modal/LoaderModal\";\n\nconst Routes = () => {\n  const [socket, setSocket] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const setupSocket = () => {\n    if (!socket) {\n      const newSocket = io(\"http://localhost:8000\", {\n        query: {\n          token: getToken(),\n        },\n      });\n\n      newSocket.on(\"disconnect\", () => {\n        setSocket(null);\n        setTimeout(setupSocket, 3000);\n        // makeToast(\"error\", \"Socket Disconnected!\");\n      });\n\n      newSocket.on(\"connect\", () => {\n        // makeToast(\"success\", \"Socket Connected!\");\n      });\n      setSocket(newSocket);\n    }\n  };\n\n  useEffect(() => {\n    const fetchUserData = async () => {\n      if (!getToken()) return;\n      try {\n        setLoading(true);\n        const response = await Axios.get(\"/userdata\", {\n          headers: {\n            Authorization: \"Bearer \" + getToken(),\n          },\n        });\n\n        dispatch({\n          type: \"SET_USER_DATA\",\n          payload: response.data,\n        });\n        setupSocket();\n        setLoading(false);\n      } catch (error) {\n        setLoading(false);\n        console.log(111, history.location.pathname);\n        sessionStorage.clear();\n        if (\n          history.location.pathname === \"/login\" ||\n          history.location.pathname === \"/signup\"\n        )\n          return;\n        makeToast(\"error\", \"User not authenticated\");\n        history.push(\"/login\");\n      }\n    };\n    fetchUserData();\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    if (socket) {\n      socket.on(\"approvalDepartment\", (payload) => {\n        dispatch({\n          type: \"UPDATE_APPROVAL_REQUESTS\",\n          payload,\n        });\n      });\n\n      socket.on(\"stateUpdated\", (payload) => {\n        dispatch({\n          type: \"UPDATE_USER_FORMS\",\n          payload,\n        });\n      });\n\n      socket.on(\"notification\", (payload) => {\n        dispatch({\n          type: \"UPDATE_NOTIFICATIONS\",\n          payload,\n        });\n        makeToast(\"info\", \"New Notification\");\n      });\n\n      socket.on(\"newUser\", (payload) => {\n        makeToast(\"info\", \"New user registered\");\n        dispatch({\n          type: \"UPDATE_OTHER_DEPARTMENT_USER\",\n          payload,\n        });\n      });\n    }\n  }, [socket]);\n  return (\n    <div className=\"container\">\n      <LoaderModal isLoading={loading} />\n      <Switch>\n        <Redirect from=\"/\" to={`/${getToken() ? `form` : `login`}`} exact />\n        <Route\n          path=\"/login\"\n          render={(props) => (\n            <LoginPage\n              setupSocket={setupSocket}\n              dispatch={dispatch}\n              {...props}\n            />\n          )}\n          exact\n        />\n        <Route\n          path=\"/signup\"\n          render={(props) => <SignupPage {...props} socket={socket} exact />}\n        />\n        <PrivateRoute\n          path=\"/form\"\n          component={FormPage}\n          compProps={{ state, dispatch, socket }}\n          exact\n        />\n        <PrivateRoute\n          path=\"/pending\"\n          component={PendingPage}\n          compProps={{ pending: state.pending }}\n          exact\n        />\n        <PrivateRoute\n          path=\"/rejected\"\n          component={RejectedPage}\n          compProps={{ rejected: state.rejected }}\n          exact\n        />\n        <PrivateRoute\n          path=\"/approved\"\n          component={ApprovedPage}\n          compProps={{ approved: state.approved }}\n          exact\n        />\n        <PrivateRoute\n          path=\"/request\"\n          component={ApprovalRequest}\n          compProps={{\n            approvalRequest: state.approvalRequest,\n            userId: state.user._id,\n            socket,\n            dispatch,\n          }}\n          exact\n        />\n        <PrivateRoute\n          path=\"/notifications\"\n          component={Notifications}\n          compProps={{\n            notifications: state.notifications,\n            username: state.user.username,\n          }}\n          exact\n        />\n      </Switch>\n    </div>\n  );\n};\n\nexport default Routes;\n","import React from \"react\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport TopNav from \"./top-nav\";\nimport Routes from \"./Routes\";\n\nconst App = () => {\n  return (\n    <Router>\n      <TopNav />\n      <Routes />\n    </Router>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/common.css\";\nimport \"./styles/chatroom.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}